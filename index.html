<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>숫자 입력 게임</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        #game-container {
            margin-top: 20px;
        }
        #output {
            font-size: 20px;
            font-weight: bold;
            margin: 10px 0;
        }
    </style>
</head>
<body>

    <h1>숫자 입력 게임</h1>
    <button onclick="startGame('돼지')">/돼지</button>
    <button onclick="startGame('토끼')">/토끼</button>
    
    <div id="game-container">
        <p id="output">게임을 시작하세요.</p>
        <input type="text" id="userInput" placeholder="정답 입력">
        <button onclick="checkAnswer()">제출</button>
    </div>

    <script>
        let gameType = null;
        let gameActive = false;
        let startTime;
        let round = 0;
        let currentAnswer;
        let colorsPig = ["1 0 ", "2 0 ", "3 0 ", "1 0 2 0 ", "2 0 1 0 ", "2 0 3 0 ", "3 0 2 0 ", "3 0 1 0 ", "1 0 3 0 "];
        let colorsRabbit = ["1 1 ", "1 1 ", "1 1 ", "1 1 ", "1 1 ", "8 9 ", "9 8 ", "0 8 ", "8 0 ", "0 9 ", "9 0 "];

        function startGame(type) {
            if (gameActive) {
                alert("이미 게임이 진행 중입니다.");
                return;
            }
            gameType = type;
            gameActive = true;
            round = 0;
            startTime = Date.now();
            generateQuestion();
        }

        function generateQuestion() {
            let colorSet = gameType === "돼지" ? colorsPig : colorsRabbit;
            let part1 = colorSet[Math.floor(Math.random() * colorSet.length)];
            let part2 = colorSet[Math.floor(Math.random() * colorSet.length)];
            let part3 = colorSet[Math.floor(Math.random() * colorSet.length)];
            let part4 = colorSet[Math.floor(Math.random() * (gameType === "돼지" ? 3 : colorSet.length))];
            let part5 = colorSet[Math.floor(Math.random() * (gameType === "돼지" ? 3 : colorSet.length))];
            let part6 = colorSet[Math.floor(Math.random() * (gameType === "돼지" ? 3 : colorSet.length))];

            let result;
            if (gameType === "토끼") {
                result = `${part1}${part2}${part3}\n${part4}${part5}${part6}`;
            } else {
                result = part1 + part2 + part3 + part4 + part5 + part6;
            }
            currentAnswer = result.replace(/\s/g, '');
            document.getElementById("output").innerText = result;
        }

        function checkAnswer() {
            let userInput = document.getElementById("userInput").value.replace(/\s/g, '');
            if (!gameActive) {
                alert("게임을 시작하세요.");
                return;
            }

            if (userInput === currentAnswer) {
                round++;
                let elapsedTime = (Date.now() - startTime) / 1000 - 2;
                startTime = Date.now();
                document.getElementById("output").innerText = `통과\nRound: ${round}`;
                generateQuestion();
            } else {
                alert("실패");
                gameActive = false;
                document.getElementById("output").innerText = "게임 종료. 다시 시작하세요.";
            }
        }
    </script>

</body>
</html>
